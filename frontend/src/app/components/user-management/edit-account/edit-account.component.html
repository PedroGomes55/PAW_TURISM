<app-navbar></app-navbar>

<ng-container *ngIf="error" class="text-center">
    <div class="firstAlert col-md-5 col-md-offset-1 mx-auto">
        <div class="alert alert-danger alert-dismissible fade show">
            <h4 class="alert-heading"><i class="bi-exclamation-octagon-fill"></i> Oops! Something went wrong.</h4>
            <ul class="error-text">
                <li>{{ error }}</li>
            </ul>
        </div>
    </div>
</ng-container>

<section>
    <div class="container py-5">
        <div class="row">
            <div class="col-lg-4">
                <div class="card mb-4">
                    <div class="card-body text-center">
                        <div class="row g-0 rounded-circle img-fluid">
                            <div class="col-sm-5" *ngIf="user.roles === 'Employee'">
                                <img src="/assets/imagesUtils/admins.png" width="150px" height="150px" alt="avatar">
                            </div>
                            <div class="col-sm-5" *ngIf="user.roles === 'User'">
                                <img src="/assets/imagesUtils/user.png" width="150px" height="150px">
                            </div>
                        </div>
                        <p class="text-muted mb-1">Edit Profile</p>
                    </div>
                </div>
            </div>
            <div class="col-lg-8">
                <div class="card mb-4">
                    <div class="card-body">
                        <div class="row">
                            <h2 class="fw-bolder mb-4 text-center">Data to Edit</h2>
                            <form #formData="ngForm">
                                <div>
                                    <div class="input-field">
                                        <input type="email" required class="form-control" id="inputEmail" name="email"
                                            [(ngModel)]="email" #emailControl="ngModel" [value]="user.email">
                                    </div>
                                </div>

                                <div>
                                    <div class="input-field" id="nameField">
                                        <input type="text" required class="form-control" id="inputName" name="name"
                                            [(ngModel)]="name" #NameControl="ngModel" [value]="user.name">
                                    </div>
                                </div>

                                <div class="btn-field justify-content-end">
                                    <button type="button" class="disable btn-secondary" style="flex-basis: 18%"
                                        (click)="editProfile(user._id)">Guardar</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>