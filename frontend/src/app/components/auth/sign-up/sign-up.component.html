<app-initial-navbar></app-initial-navbar>


<ng-container *ngIf="error">
    <div class="firstAlert col-md-5 col-md-offset-1 ">
        <div class="alert alert-danger alert-dismissible fade show">

            <h4 class="alert-heading"><i class="bi-exclamation-octagon-fill"></i> Oops! Something went wrong.</h4>
            <ul class="error-text">
                <li *ngFor="let errorMsg of error">
                    {{ errorMsg }}
                </li>
            </ul>
        </div>
    </div>
</ng-container>

<div class="container">
    <div class="form-box">
        <h1 class="fw-bolder mb-4 text-center">Sign Up</h1>
        <form #formData="ngForm">
            <div>
                <div class="input-field" id="nameField">
                    <i class="bi bi-person-fill"></i>
                    <input type="text" required class="form-control" id="inputName" placeholder="Name" name="name"
                        [(ngModel)]="name" #NameControl="ngModel">
                    <div *ngIf="NameControl.touched && !NameControl.valid">
                        <div *ngIf="NameControl.errors?.['required']">
                            <div class="alert alert-danger mt-1" role="alert">Required field!</div>
                        </div>
                    </div>
                </div>
            </div>

            <div>
                <div class="input-field">
                    <i class="bi bi-envelope-fill"></i>
                    <input type="email" required class="form-control" id="inputEmail" placeholder="Email" name="email"
                        [(ngModel)]="email" #emailControl="ngModel" [email]="true">
                    <div *ngIf="emailControl.touched && !emailControl.valid">
                        <div *ngIf="emailControl.errors?.['required']">
                            <div class="alert alert-danger mt-1" role="alert">Required field!</div>
                        </div>
                        <div *ngIf="emailControl.errors?.['email']">
                            <div class="alert alert-danger mt-1" role="alert">Invalid email!</div>
                        </div>
                    </div>
                </div>
            </div>

            <div>
                <div class="input-field">
                    <i class="bi bi-lock-fill"></i>
                    <input type="password" required class="form-control" id="inputPassword" placeholder="Password"
                        name="password" [(ngModel)]="password" #passwordControl="ngModel" minlength="5" maxlength="30">
                    <div *ngIf="passwordControl.touched && !passwordControl.valid">
                        <div *ngIf="passwordControl.errors?.['required']">
                            <div class="alert alert-danger mt-1" role="alert">Required field!</div>
                        </div>
                        <div *ngIf="passwordControl.errors?.['minlength']">
                            <div class="alert alert-danger mt-1" role="alert">Minimum 5 digits</div>
                        </div>
                    </div>
                </div>
            </div>

            <div>
                <div class="input-field">
                    <i class="bi bi-lock-fill"></i>
                    <input type="password" required class="form-control" id="inputConfirmPassword"
                        placeholder="Confirm Password" name="confirmPassword" [(ngModel)]="password2"
                        #Password2Control="ngModel" minlength="5" maxlength="30">
                    <div *ngIf="Password2Control.touched && !Password2Control.valid">
                        <div *ngIf="Password2Control.errors?.['required']">
                            <div class="alert alert-danger mt-1" role="alert">Required field!</div>
                        </div>
                        <div *ngIf="Password2Control.errors?.['minlength']">
                            <div class="alert alert-danger mt-1" role="alert">Minimum 5 digits</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="btn-field">
                <button type="submit" id="signupBtn" (click)="signUp()">Register</button>
            </div>

            <div class="mt-3">
                <p class="text-center">Already have an acount? <a class="text-info" href="/login">Login</a></p>
            </div>
        </form>
    </div>
</div>